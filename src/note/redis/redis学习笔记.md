## NoSQL概述

### 为什么使用NoSQL

> 单机MySQL年代

![1596267189346](redis%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.images/1596267189346.png)

网站的访问量不大，单个数据完全够用。

随着时代的发展，单数据库的网站遇到一下瓶颈

1、数据量太大一个机器放不下

2、数据的索引（B + Tree），一个机器的内存放不下

3、访问量（读写混合），一个服务气承受不了

> Memcached（缓存） + MySQL + 垂直拆分

网站80%的情况都是在读，使用缓存来减少重复读，保证效率降低mysql的压力

![1596267508787](redis%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.images/1596267508787.png)

> 分库分表 + 水平拆分 + MySQL集群

==数据库的本质：读、写==

早些年MyISAM：表锁，效率极低

Innodb：行锁

使用分库分表解决写的压力。

![1596268392475](redis%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.images/1596268392475.png)

> 最近的年代

定位、地图、人际关系都是一种数据，MySQL等关系型数据库不满足需求。而且MySQL等关系型数据库用来存储图片、文件等大文件信息，会导致数据库的效率降低，再大数据IO的压力下，关系型数据的表不好改变。

**目前一个基本的互联网项目**

![1596269510606](redis%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.images/1596269510606.png)

**为什么使用NoSQL**

用户的个人信息、社交网络、地理信息。用户自己产生的数据，用户日志等等爆发式增长！

这时候我们需要使用NoSQL数据库，NoSQL可以很好的处理以上情况。

### 什么是NoSQL

> NoSQL

NoSQL = Not Only SQL （不仅仅是SQL）

泛指非关系型数据库，随着web2.0互联网的诞生！传统的关系型数据库很难应付web2.0时代的问题。

> NoSQL特点

解耦！

1、方便扩展（数据之间没有关系，很好拓展！）

2、大数据量高性能（Redis 一秒写8w次、读11w次，NoSQL的缓存记录级，是一种细粒度的缓存，性能较高）

3、数据类型多样（不需要事先设计数据库）

4、传统 RDBMS 和 NoSQL

```
传统的RDBMS
- 结构化组织
- SQL
- 数据和关系都存在单独的表中
- 数据操作语言、数据操作语言
- 严格的一致性
- 基础的事务
- ......
```

```
NoSQL
- 不仅仅是数据
- 没有固定的查询语言
- 键值对存储、列存储、文档存储、图形数据库（社交关系）
- 最终一致性
- CAP定理和BASE
- 高性能、高可用、高可扩
- ......
```

> 3V + 3高

大数据时代的3V：主要描述问题的

1、海量

2、多样

3、实时

大数据时代的3高：主要是对程序的要求

1、高并发

2、高可扩

3、高性能

公司中的实践：MySQL + NoSQL

### NoSQL的四大类型

**KV键值对**

- 新浪：Redis
- 阿里、百度：Redis + Memecache

**文档型数据库（bson格式和json一样）**

- MongoDB
  - MongoDB是一个基于分布式文件存储的数据库，C++编写，主要用来处理大量的文档
  - MongoDB是一个介于关系星数据库和非关系型数据库中间的产品，MongoDB是非关系型数据库中功能最丰富，最像关系星数据库的。

**列存储数据库**

- HBase

**图关系型数据库**

- 它存放的不是图形，而是关系，比如：朋友圈社交网络、广告推荐！
- Neo4j，InfoGrid

![1596272131424](redis%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.images/1596272131424.png)

## Redis入门

### 概述

> Redis（==Re==mote ==Di==ctionary ==S==erver )，即远程字典服务，

是一个开源的使用ANSI [C语言](https://baike.baidu.com/item/C语言)编写、支持网络、可基于内存亦可持久化的日志型、Key-Value[数据库](https://baike.baidu.com/item/数据库/103728)，并提供多种语言的API。 redis会周期性的把更新的数据写入磁盘或者把修改操作写入追加的记录文件，并且在此基础上实现了master-slave(主从)同步。 免费开源，也被人称为结构化数据库

> Redis能干嘛？

1、内存存储、持久化，内存中是断电即失，所以持久化很重要（rdb、oaf）

2、效率高，可以用于高速缓存

3、发布订阅系统

4、地图信息分析

5、计时器、计数器（浏览量）

6、......

> 特性

1、多样的数据类型

2、持久化

3、集群

4、事务

5、......

### Linux安装

